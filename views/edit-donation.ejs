<%- include("partials/header") %>

<div class="container" style="min-height: 100vh;">
  <div class="card p-4 shadow-sm rounded-4" style="max-width: 700px; margin: auto;">
    <h2 class="mb-4 text-center text-warning">Edit Donation</h2>

    <form action="/donation/<%= donation._id %>?_method=PUT" method="POST">

      <div class="mb-3">
        <label class="form-label">Donor ID</label>
        <input type="text" name="donor" class="form-control" value="<%= donation.donor %>" required />
        <div class="form-text">MongoDB ObjectId of the donor</div>
      </div>

      <div class="mb-3">
        <label class="form-label">Item Donated</label>
        <input type="text" name="itemDonated" class="form-control" value="<%= donation.itemDonated %>" required />
        <span class="text-danger error-message" style="display: none;">Item name is required</span>
      </div>

      <div class="row mb-3">
        <div class="col">
          <label class="form-label">Quantity</label>
          <input type="number" name="quantity" class="form-control" value="<%= donation.quantity %>" required />
          <span class="text-danger error-message" style="display: none;">Quantity is required</span>
        </div>
        <div class="col">
          <label class="form-label">Date</label>
          <input type="date" name="date" class="form-control" value="<%= donation.date.toISOString().split('T')[0] %>" required />
          <span class="text-danger error-message" style="display: none;">Please input the date</span>
        </div>
      </div>

      <div class="mb-3">
        <label class="form-label">Additional Notes</label>
        <textarea name="notes" rows="3" class="form-control"><%= donation.notes %></textarea>
      </div>

      <div class="form-check mb-3">
        <input class="form-check-input" type="checkbox" id="policyCheck" required>
        <label class="form-check-label" for="policyCheck">
          I agree to the terms and privacy policy
        </label>
        <span class="text-danger error-message" style="display: none;">You must agree to the Terms & Conditions </span>
      </div>

      <div class="text-center">
        <button type="submit" class="btn btn-warning px-4">Update Donation</button>
      </div>

    </form>
  </div>
</div>

<%- include("partials/footer") %>